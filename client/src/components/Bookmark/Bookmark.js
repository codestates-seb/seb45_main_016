/* eslint-disable react/prop-types */
import { useState } from 'react';
import { BookmarkStyle } from './BookmarkStyle';
import { Postbookmark, deleteBookmark } from '../../utils/API';
// import { API } from '../../utils/API';

const Bookmark = ({ code }) => {
  const [isLiked, setLiked] = useState(false);

  //   const url = '북마크 요청 주소';

  // const body = {
  //     userId:"",
  //     licenseId:"",
  // }

  const pushHeart = (e) => {
    if (isLiked === false) {
      setLiked(true);
      localStorage.setItem('code', code);
      Postbookmark();
      e.stopPropagation();
    } else {
      setLiked(false);
      deleteBookmark();
      e.stopPropagation();
    }
  };

  return (
    <BookmarkStyle onClick={pushHeart}>
      {isLiked === false ? (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="37px"
          height="37px"
          viewBox="0 0 37 37"
        >
          <path
            d="M29.99 6.485C26.03 3.785 21.14 5.045 18.5 8.135C15.86 5.045 10.97 3.77 7.01001 6.485C4.91001 7.925 3.59001 10.355 3.50001 12.92C3.29001 18.74 8.45002 23.405 16.325 30.56L16.475 30.695C17.615 31.73 19.37 31.73 20.51 30.68L20.675 30.53C28.55 23.39 33.695 18.725 33.5 12.905C33.41 10.355 32.09 7.925 29.99 6.485ZM18.65 28.325L18.5 28.475L18.35 28.325C11.21 21.86 6.50001 17.585 6.50001 13.25C6.50001 10.25 8.75001 8 11.75 8C14.06 8 16.31 9.485 17.105 11.54H19.91C20.69 9.485 22.94 8 25.25 8C28.25 8 30.5 10.25 30.5 13.25C30.5 17.585 25.79 21.86 18.65 28.325Z"
            fill="#FF9F9F"
          />
          <path
            d="M29.9901 6.485C26.0301 3.785 21.1401 5.045 18.5001 8.135C15.8601 5.045 10.9701 3.77 7.01008 6.485C4.91008 7.925 3.59008 10.355 3.50008 12.92C3.29008 18.74 8.45008 23.405 16.3251 30.56L16.4751 30.695C17.6151 31.73 19.3701 31.73 20.5101 30.68L20.6751 30.53C28.5501 23.39 33.6951 18.725 33.5001 12.905C33.4101 10.355 32.0901 7.925 29.9901 6.485ZM18.6501 28.325L18.5001 28.475L18.3501 28.325C11.2101 21.86 6.50008 17.585 6.50008 13.25C6.50008 10.25 8.75008 8 11.7501 8C14.0601 8 16.3101 9.485 17.1051 11.54H19.9101C20.6901 9.485 22.9401 8 25.2501 8C28.2501 8 30.5001 10.25 30.5001 13.25C30.5001 17.585 25.7901 21.86 18.6501 28.325Z"
            fill="#FF9F9F"
          />
        </svg>
      ) : (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="37"
          height="37"
          viewBox="0 0 37 37"
          fill="none"
        >
          <path
            d="M20.525 30.695C19.385 31.73 17.63 31.73 16.49 30.68L16.325 30.53C8.44999 23.405 3.30499 18.74 3.49999 12.92C3.58999 10.37 4.89499 7.925 7.00999 6.485C10.97 3.785 15.86 5.045 18.5 8.135C21.14 5.045 26.03 3.77 29.99 6.485C32.105 7.925 33.41 10.37 33.5 12.92C33.71 18.74 28.55 23.405 20.675 30.56L20.525 30.695Z"
            fill="#FF9F9F"
          />
          <path
            d="M20.525 30.695C19.385 31.73 17.63 31.73 16.49 30.68L16.325 30.53C8.44999 23.405 3.30499 18.74 3.49999 12.92C3.58999 10.37 4.89499 7.925 7.00999 6.485C10.97 3.785 15.86 5.045 18.5 8.135C21.14 5.045 26.03 3.77 29.99 6.485C32.105 7.925 33.41 10.37 33.5 12.92C33.71 18.74 28.55 23.405 20.675 30.56L20.525 30.695Z"
            fill="#FF9F9F"
          />
        </svg>
      )}
    </BookmarkStyle>
  );
};

export default Bookmark;
